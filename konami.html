<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
    <script src="https://kit.fontawesome.com/4d0b40d330.js" crossorigin="anonymous"></script>
    <style>
        #message {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px red dashed;
            aspect-ratio: 1/1;
            background-color: white;
        }
        iframe {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>
    <h1>Konami Code</h1>

    <p>What is the password?</p>
    <div id="message">
    <!--    arrows-->
<!--        <i class="fa-solid fa-arrow-up"></i>-->
<!--        <i class="fa-solid fa-arrow-right"></i>-->
<!--        <i class="fa-solid fa-arrow-down"></i>-->
<!--        <i class="fa-solid fa-arrow-left"></i>-->

<!--        <iframe src="https://www.youtube.com/embed/cQ_b4_lw0Gg?&autoplay=1" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>-->
    </div>

<!--    passcode fail-->



<!--    <form>-->
<!--        <input type="text" id="inputId" name="textfield" placeholder="Type Here"/>-->
<!--    </form>-->

    <script src="js/jquery-3.6.3.js"></script>
    <script>
        "use strict";

        //in class notes
        $(document).ready(function () {

            // $('#textfield').keydown(function(event) {
            //     // console.log('A key was pushed down!');
            //
            //     //deprecated
            //     // console.log(event.keyCode);
            //
            //     //use .key
            //     // console.log(event.key);
            //
            //     //why doesn't this work?
            //     //only backticks work***
            //     console.log(`you pressed the "${event.key}" key`);
            // });

            // on and off functions
            // $("#inputId").on("keypress", function (event) {
            //     console.log(`"${event.key}" on`)
            // });

            // $("#inputId").off("keypress");
            //     console.log(`"${event.key}" off`)
            // });


            // from: https://www.haykranen.nl/2010/05/07/konami/

            function konami(fn) {
                let input = "";
                let inputDisplay = "";
                let pattern = "3838404037393739666513";
                $(document).keydown(function(e) {
                    input += e.keyCode;
                    // console.log(input);

                    //trying to add paragraphs to div to display keyed in values
                    inputDisplay += `<p>${e.key}</p>`;

                    // console.log(`<p>${e.key}</p>`);
                    // $("#message").innerHTML(`<p>${e.keyCode}</p>`);
                    console.log(input.indexOf(pattern));

                    if (input.indexOf(pattern) !== -1) {
                        fn();
                        input = "";
                        $("#message").css("background-color", "palegreen");
                        $("#message").html("You have added 30 lives!");
                        $("#message").addClass("pass");
                    }
                    else {
                            $("#message").css("background-color", "red");
                    }
                });

            }

            // $("#message").innerHTML(inputDisplay);

            konami(function() {});


        });
    </script>
</body>
</html>